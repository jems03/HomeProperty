@using HomeProperty.Models.Properties
@model IPageViewModel<PropertiesDetailPage>

@* @{
    PropertyEnum propertyType;
} *@

<!-- Start Proerty header  -->

<section id="aa-property-header" style="background-image:url(@Url.ContentUrl(Model.CurrentPage.MainSectionImageUrl))>
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="aa-property-header-inner">
                    <h2>Properties Details</h2>
                    <ol class="breadcrumb">
                        <li><a href="#">HOME</a></li>
                        <li class="active">@Html.PropertyFor(m => m.CurrentPage.MetaTitle)</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- End Proerty header  -->
<!-- Start Properties  -->
<section id="aa-properties">
    <div class="container">
        <div class="row">
            <div class="col-md-8">
                <div class="aa-properties-content">
                    <!-- Start properties content body -->
                    <div class="aa-properties-details">
                        <div class="aa-properties-details-img">
                            @if (Model.CurrentPage.PropertyImages != null && Model.CurrentPage.PropertyImages.Count() >= 1)
                            {
                                @foreach (var image in Model.CurrentPage.PropertyImages)
                                {
                                    Console.WriteLine(image);
                                    <img src="@Url.ContentUrl(image)" alt="img">
                                }
                            }
                        </div>
                        <div class="aa-properties-info">
                            <h2>@Html.PropertyFor(m => m.CurrentPage.MetaTitle)</h2>


                            <!--Attempt to parse the string to the corresponding enum value -->
                            @* @if (Enum.TryParse(Model.CurrentPage.PropertyType, out propertyType))
                            {
                            <h2>@propertyType</h2>  <!-- Render the enum as text -->
                            }
                            else
                            {
                            <h2>Unknown Property Type</h2>  <!-- Handle the case where parsing fails -->
                            } *@


                            <span class="aa-price">@Html.DisplayFor(m => m.CurrentPage.PropertyPrice, "PropertyPrice")</span>
                            @Html.PropertyFor(m => m.CurrentPage.PropertyDescription)

                            <h4>Property Features</h4>
                            <ul>
                                @if (Model.CurrentPage.PropertyNumberOfRooms > 0)
                                {
                                    <li>@Html.PropertyFor(m => m.CurrentPage.PropertyNumberOfRooms) Bedroom</li>
                                }

                                @if (Model.CurrentPage.PropertyNumberOfBeds > 0)
                                {
                                    <li>@Html.PropertyFor(m => m.CurrentPage.PropertyNumberOfBeds) Beds</li>
                                }

                                @if (Model.CurrentPage.PropertyNumberOfBaths > 0)
                                {
                                    <li>@Html.PropertyFor(m => m.CurrentPage.PropertyNumberOfBaths) Baths</li>
                                }


                                <!-- Display of the Property Features -->
                                @if (Model.CurrentPage.PropertyFeaturesList != null && Model.CurrentPage.PropertyFeaturesList.Count() > 0)
                                {
                                    var propertyFeatures = Model.CurrentPage.PropertyFeaturesList.Split(',').ToList();
                                    foreach (var features in propertyFeatures)
                                    {
                                        <li>@features</li>
                                    }
                                }

                            </ul>

                            @if (Model.CurrentPage.PropertyVideo != null)
                            {
                                <h4>Property Video</h4>
                                <iframe width="100%" height="480" src="@Url.ContentUrl(Model.CurrentPage.PropertyVideo)" frameborder="0" allowfullscreen></iframe>

                            }

                            @if (Model.CurrentPage.PropertyMapCoordinates != null)
                            {
                                <h4>Property Map</h4>
                                <iframe src="@Url.ContentUrl(Model.CurrentPage.PropertyMapCoordinates)" width="100%" height="450" frameborder="0" style="border:0" allowfullscreen></iframe>

                            }
                        </div>
                        <!-- Properties social share -->
                        <div class="aa-properties-social">
                            <ul>
                                <li>Share</li>
                                <li><a href="#"><i class="fa fa-facebook"></i></a></li>
                                <li><a href="#"><i class="fa fa-twitter"></i></a></li>
                                <li><a href="#"><i class="fa fa-google-plus"></i></a></li>
                                <li><a href="#"><i class="fa fa-pinterest"></i></a></li>
                            </ul>
                        </div>
                        <!-- Nearby properties -->
                        <div class="aa-nearby-properties">
                            <div class="aa-title">
                                <h2>Nearby Properties</h2>
                                <span></span>
                            </div>
                            <div class="aa-nearby-properties-area">
                                <div class="row">
                                    <div class="col-md-6">
                                        <article class="aa-properties-item">
                                            <a class="aa-properties-item-img" href="#">
                                                <img alt="img" src="/img/item/1.jpg">
                                            </a>
                                            <div class="aa-tag for-sale">
                                                For Sale
                                            </div>
                                            <div class="aa-properties-item-content">
                                                <div class="aa-properties-info">
                                                    <span>5 Rooms</span>
                                                    <span>2 Beds</span>
                                                    <span>3 Baths</span>
                                                    <span>1100 SQ FT</span>
                                                </div>
                                                <div class="aa-properties-about">
                                                    <h3><a href="#">Appartment Title</a></h3>
                                                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.</p>
                                                </div>
                                                <div class="aa-properties-detial">
                                                    <span class="aa-price">
                                                        $35000
                                                    </span>
                                                    <a class="aa-secondary-btn" href="#">View Details</a>
                                                </div>
                                            </div>
                                        </article>
                                    </div>
                                    <div class="col-md-6">
                                        <article class="aa-properties-item">
                                            <a class="aa-properties-item-img" href="#">
                                                <img alt="img" src="/img/item/2.jpg">
                                            </a>
                                            <div class="aa-tag for-sale">
                                                For Sale
                                            </div>
                                            <div class="aa-properties-item-content">
                                                <div class="aa-properties-info">
                                                    <span>5 Rooms</span>
                                                    <span>2 Beds</span>
                                                    <span>3 Baths</span>
                                                    <span>1100 SQ FT</span>
                                                </div>
                                                <div class="aa-properties-about">
                                                    <h3><a href="#">Appartment Title</a></h3>
                                                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim molestiae vero ducimus quibusdam odit vitae.</p>
                                                </div>
                                                <div class="aa-properties-detial">
                                                    <span class="aa-price">
                                                        $35000
                                                    </span>
                                                    <a class="aa-secondary-btn" href="#">View Details</a>
                                                </div>
                                            </div>
                                        </article>
                                    </div>
                                </div>
                            </div>

                        </div>

                    </div>
                </div>
            </div>
            <!-- Start properties sidebar -->
            <div class="col-md-4">
                @if (Model.CurrentPage.PropertiesSideBar != null)
                {
                    @Html.PropertyFor(m => m.CurrentPage.PropertiesSideBar)
                }
            </div>
        </div>
    </div>
</section>
<!-- / Properties  -->
